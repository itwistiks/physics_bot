2025-07-29 12:25:28,201 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:25:28,474 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:25:35,696 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:25:35,985 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:25:43,800 - aiogram.event - INFO - Update id=994744146 is handled. Duration 358 ms by bot id=8464313577
2025-07-29 12:25:45,912 - aiogram.event - INFO - Update id=994744147 is handled. Duration 110 ms by bot id=8464313577
2025-07-29 12:25:47,881 - aiogram.event - INFO - Update id=994744148 is handled. Duration 109 ms by bot id=8464313577
2025-07-29 12:25:50,423 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:25:50,423 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:25:50,424 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:25:50,424 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:25:50,424 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:25:50,424 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:25:50,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:25:50,436 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:25:50,436 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-07-29 12:25:50,438 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:25:50,439 - core.services.task_display - INFO - Starting task display for ID: 104
2025-07-29 12:25:50,447 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:25:50,449 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:25:50,450 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (104,)
2025-07-29 12:25:50,452 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:25:50,452 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (9,)
2025-07-29 12:25:50,454 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:25:50,454 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (4,)
2025-07-29 12:25:50,455 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:25:50,686 - aiogram.event - INFO - Update id=994744149 is handled. Duration 264 ms by bot id=8464313577
2025-07-29 12:26:02,164 - aiogram.event - INFO - Update id=994744150 is not handled. Duration 0 ms by bot id=8464313577
2025-07-29 12:27:48,286 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:27:48,565 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:27:51,710 - aiogram.event - INFO - Update id=994744151 is handled. Duration 296 ms by bot id=8464313577
2025-07-29 12:27:52,200 - aiogram.event - INFO - Update id=994744152 is handled. Duration 155 ms by bot id=8464313577
2025-07-29 12:27:53,194 - aiogram.event - INFO - Update id=994744153 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 12:27:54,324 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:27:54,324 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:27:54,325 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:27:54,325 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:27:54,325 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:27:54,325 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:27:54,326 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:27:54,337 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:27:54,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-29 12:27:54,338 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:27:54,339 - core.services.task_display - INFO - Starting task display for ID: 87
2025-07-29 12:27:54,348 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:27:54,350 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:27:54,350 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (87,)
2025-07-29 12:27:54,353 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:27:54,353 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (6,)
2025-07-29 12:27:54,354 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:27:54,355 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (3,)
2025-07-29 12:27:54,356 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:27:54,652 - aiogram.event - INFO - Update id=994744154 is handled. Duration 328 ms by bot id=8464313577
2025-07-29 12:27:58,256 - core.handlers.reply_handlers - INFO - Получено сообщение: '3'. Текущее состояние: None
2025-07-29 12:27:58,369 - aiogram.event - INFO - Update id=994744155 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 12:36:53,659 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:36:53,948 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:36:56,123 - aiogram.event - INFO - Update id=994744168 is handled. Duration 297 ms by bot id=8464313577
2025-07-29 12:36:56,962 - aiogram.event - INFO - Update id=994744169 is handled. Duration 109 ms by bot id=8464313577
2025-07-29 12:36:59,064 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:36:59,064 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:36:59,065 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:36:59,065 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:36:59,065 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:36:59,066 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:36:59,066 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:36:59,077 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:36:59,077 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-29 12:36:59,078 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:36:59,079 - core.services.task_display - INFO - Starting task display for ID: 96
2025-07-29 12:36:59,087 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:36:59,090 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:36:59,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (96,)
2025-07-29 12:36:59,092 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:36:59,092 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (7,)
2025-07-29 12:36:59,094 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:36:59,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (3,)
2025-07-29 12:36:59,095 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:36:59,324 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 96
2025-07-29 12:36:59,324 - aiogram.event - INFO - Update id=994744170 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 12:37:05,665 - core.handlers.reply_handlers - INFO - DEBUG: Получен текст '2' при состоянии TaskStates:WAITING_ANSWER
2025-07-29 12:37:05,665 - aiogram.event - INFO - Update id=994744171 is handled. Duration 0 ms by bot id=8464313577
2025-07-29 12:38:06,158 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:38:06,443 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:38:08,376 - aiogram.event - INFO - Update id=994744172 is handled. Duration 282 ms by bot id=8464313577
2025-07-29 12:38:09,564 - aiogram.event - INFO - Update id=994744173 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 12:38:10,694 - aiogram.event - INFO - Update id=994744174 is handled. Duration 186 ms by bot id=8464313577
2025-07-29 12:38:12,642 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:38:12,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:38:12,643 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:38:12,643 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:38:12,644 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:38:12,644 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:38:12,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:38:12,655 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:38:12,656 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2025-07-29 12:38:12,657 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:38:12,657 - core.services.task_display - INFO - Starting task display for ID: 110
2025-07-29 12:38:12,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:38:12,668 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:38:12,668 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (110,)
2025-07-29 12:38:12,670 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:38:12,670 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (10,)
2025-07-29 12:38:12,673 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:38:12,673 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (4,)
2025-07-29 12:38:12,674 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:38:12,893 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 110
2025-07-29 12:38:12,893 - aiogram.event - INFO - Update id=994744175 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 12:38:20,120 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:38:20,122 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:38:20,122 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (110,)
2025-07-29 12:38:20,357 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:38:20,358 - aiogram.event - INFO - Update id=994744176 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 12:39:20,281 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 12:39:20,281 - core.services.task_display - INFO - Starting task display for ID: 103
2025-07-29 12:39:20,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:20,283 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:20,284 - sqlalchemy.engine.Engine - INFO - [cached since 67.62s ago] (103,)
2025-07-29 12:39:20,285 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:39:20,286 - sqlalchemy.engine.Engine - INFO - [cached since 67.62s ago] (9,)
2025-07-29 12:39:20,287 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:39:20,287 - sqlalchemy.engine.Engine - INFO - [cached since 67.61s ago] (4,)
2025-07-29 12:39:20,288 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:39:20,872 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 103
2025-07-29 12:39:20,872 - aiogram.event - INFO - Update id=994744177 is handled. Duration 577 ms by bot id=8464313577
2025-07-29 12:39:25,410 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:25,411 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:25,412 - sqlalchemy.engine.Engine - INFO - [cached since 65.29s ago] (103,)
2025-07-29 12:39:25,652 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:39:25,653 - aiogram.event - INFO - Update id=994744178 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:39:30,190 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 12:39:30,190 - core.services.task_display - INFO - Starting task display for ID: 105
2025-07-29 12:39:30,191 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:30,192 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:30,192 - sqlalchemy.engine.Engine - INFO - [cached since 77.52s ago] (105,)
2025-07-29 12:39:30,194 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:39:30,194 - sqlalchemy.engine.Engine - INFO - [cached since 77.52s ago] (9,)
2025-07-29 12:39:30,195 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:39:30,195 - sqlalchemy.engine.Engine - INFO - [cached since 77.52s ago] (4,)
2025-07-29 12:39:30,196 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:39:30,423 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 105
2025-07-29 12:39:30,423 - aiogram.event - INFO - Update id=994744179 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:39:32,317 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 12:39:32,317 - core.services.task_display - INFO - Starting task display for ID: 82
2025-07-29 12:39:32,318 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:32,318 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:32,319 - sqlalchemy.engine.Engine - INFO - [cached since 79.65s ago] (82,)
2025-07-29 12:39:32,320 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:39:32,321 - sqlalchemy.engine.Engine - INFO - [cached since 79.65s ago] (5,)
2025-07-29 12:39:32,322 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:39:32,322 - sqlalchemy.engine.Engine - INFO - [cached since 79.65s ago] (2,)
2025-07-29 12:39:32,323 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:39:32,558 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 82
2025-07-29 12:39:32,558 - aiogram.event - INFO - Update id=994744180 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:39:33,361 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 12:39:33,361 - core.services.task_display - INFO - Starting task display for ID: 64
2025-07-29 12:39:33,362 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:33,363 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:33,363 - sqlalchemy.engine.Engine - INFO - [cached since 80.7s ago] (64,)
2025-07-29 12:39:33,365 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:39:33,365 - sqlalchemy.engine.Engine - INFO - [cached since 80.7s ago] (2,)
2025-07-29 12:39:33,367 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:39:33,367 - sqlalchemy.engine.Engine - INFO - [cached since 80.69s ago] (1,)
2025-07-29 12:39:33,369 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:39:33,598 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 64
2025-07-29 12:39:33,598 - aiogram.event - INFO - Update id=994744181 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:39:34,329 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 12:39:34,329 - core.services.task_display - INFO - Starting task display for ID: 61
2025-07-29 12:39:34,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:34,331 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:34,331 - sqlalchemy.engine.Engine - INFO - [cached since 81.66s ago] (61,)
2025-07-29 12:39:34,333 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:39:34,333 - sqlalchemy.engine.Engine - INFO - [cached since 81.66s ago] (2,)
2025-07-29 12:39:34,334 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:39:34,335 - sqlalchemy.engine.Engine - INFO - [cached since 81.66s ago] (1,)
2025-07-29 12:39:34,336 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:39:34,567 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 61
2025-07-29 12:39:34,567 - aiogram.event - INFO - Update id=994744182 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:39:58,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:39:58,139 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:39:58,139 - sqlalchemy.engine.Engine - INFO - [cached since 98.02s ago] (61,)
2025-07-29 12:39:58,548 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:39:58,549 - aiogram.event - INFO - Update id=994744183 is handled. Duration 420 ms by bot id=8464313577
2025-07-29 12:40:07,747 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 12:40:07,747 - core.services.task_display - INFO - Starting task display for ID: 51
2025-07-29 12:40:07,748 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:40:07,749 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:40:07,750 - sqlalchemy.engine.Engine - INFO - [cached since 115.1s ago] (51,)
2025-07-29 12:40:07,751 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:40:07,751 - sqlalchemy.engine.Engine - INFO - [cached since 115.1s ago] (1,)
2025-07-29 12:40:07,752 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:40:07,753 - sqlalchemy.engine.Engine - INFO - [cached since 115.1s ago] (1,)
2025-07-29 12:40:07,754 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:40:07,979 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 51
2025-07-29 12:40:07,979 - aiogram.event - INFO - Update id=994744184 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:40:14,581 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:40:14,582 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:40:14,583 - sqlalchemy.engine.Engine - INFO - [cached since 114.5s ago] (51,)
2025-07-29 12:40:14,814 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:40:14,815 - aiogram.event - INFO - Update id=994744185 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 12:41:46,290 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:41:46,591 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:41:49,681 - aiogram.event - INFO - Update id=994744186 is handled. Duration 295 ms by bot id=8464313577
2025-07-29 12:41:50,666 - aiogram.event - INFO - Update id=994744187 is handled. Duration 110 ms by bot id=8464313577
2025-07-29 12:41:51,536 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:41:51,536 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:41:51,537 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:41:51,537 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:41:51,538 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:41:51,538 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:41:51,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:41:51,550 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:41:51,550 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ()
2025-07-29 12:41:51,551 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:41:51,552 - core.services.task_display - INFO - Starting task display for ID: 53
2025-07-29 12:41:51,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:41:51,561 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:41:51,562 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (53,)
2025-07-29 12:41:51,564 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:41:51,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] (1,)
2025-07-29 12:41:51,567 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:41:51,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (1,)
2025-07-29 12:41:51,568 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:41:51,791 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 53
2025-07-29 12:41:51,792 - aiogram.event - INFO - Update id=994744188 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 12:41:54,811 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:41:54,812 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:41:54,812 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (53,)
2025-07-29 12:41:55,247 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:41:55,248 - aiogram.event - INFO - Update id=994744189 is handled. Duration 438 ms by bot id=8464313577
2025-07-29 12:44:50,132 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:44:50,400 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:44:50,498 - aiogram.dispatcher - ERROR - Failed to fetch updates - TelegramConflictError: Telegram server says Conflict: terminated by other getUpdates request; make sure that only one bot instance is running
2025-07-29 12:44:50,498 - aiogram.dispatcher - WARNING - Sleep for 1.000000 seconds and try again... (tryings = 0, bot id = 8464313577)
2025-07-29 12:44:55,240 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:44:55,525 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:44:58,195 - aiogram.event - INFO - Update id=994744190 is handled. Duration 311 ms by bot id=8464313577
2025-07-29 12:45:00,116 - aiogram.event - INFO - Update id=994744191 is handled. Duration 141 ms by bot id=8464313577
2025-07-29 12:45:00,864 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:45:00,865 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:45:00,865 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:45:00,866 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:45:00,866 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:45:00,866 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:45:00,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:45:00,878 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:45:00,878 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-29 12:45:00,879 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:45:00,880 - core.services.task_display - INFO - Starting task display for ID: 86
2025-07-29 12:45:00,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:45:00,891 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:45:00,891 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] (86,)
2025-07-29 12:45:00,893 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:45:00,894 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (6,)
2025-07-29 12:45:00,895 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:45:00,896 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (3,)
2025-07-29 12:45:00,897 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:45:01,212 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 86
2025-07-29 12:45:01,213 - aiogram.event - INFO - Update id=994744192 is handled. Duration 343 ms by bot id=8464313577
2025-07-29 12:45:07,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:45:07,752 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:45:07,752 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (86,)
2025-07-29 12:45:08,016 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:45:08,018 - aiogram.event - INFO - Update id=994744193 is handled. Duration 265 ms by bot id=8464313577
2025-07-29 12:48:48,725 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:48:48,992 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:48:53,229 - aiogram.event - INFO - Update id=994744194 is handled. Duration 297 ms by bot id=8464313577
2025-07-29 12:48:54,323 - aiogram.event - INFO - Update id=994744195 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 12:48:55,268 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:48:55,268 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:48:55,268 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:48:55,269 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:48:55,269 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:48:55,269 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:48:55,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:48:55,281 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:48:55,282 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-07-29 12:48:55,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:48:55,283 - core.services.task_display - INFO - Starting task display for ID: 60
2025-07-29 12:48:55,291 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:48:55,293 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:48:55,294 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] (60,)
2025-07-29 12:48:55,297 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:48:55,297 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (2,)
2025-07-29 12:48:55,299 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:48:55,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (1,)
2025-07-29 12:48:55,300 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:48:55,537 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 60
2025-07-29 12:48:55,538 - aiogram.event - INFO - Update id=994744196 is handled. Duration 266 ms by bot id=8464313577
2025-07-29 12:49:03,974 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:49:03,976 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:49:03,976 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (60,)
2025-07-29 12:49:04,207 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:49:04,208 - aiogram.event - INFO - Update id=994744197 is handled. Duration 234 ms by bot id=8464313577
2025-07-29 12:51:25,266 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:51:25,556 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:51:29,222 - aiogram.event - INFO - Update id=994744198 is handled. Duration 327 ms by bot id=8464313577
2025-07-29 12:51:30,063 - aiogram.event - INFO - Update id=994744199 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 12:51:30,822 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:51:30,822 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:51:30,823 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:51:30,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:51:30,823 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:51:30,823 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:51:30,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:51:30,835 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 12:51:30,835 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-29 12:51:30,836 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:51:30,837 - core.services.task_display - INFO - Starting task display for ID: 100
2025-07-29 12:51:30,844 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:51:30,847 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:51:30,847 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] (100,)
2025-07-29 12:51:30,849 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 12:51:30,850 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (8,)
2025-07-29 12:51:30,851 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 12:51:30,851 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (3,)
2025-07-29 12:51:30,852 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:51:31,071 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 100
2025-07-29 12:51:31,071 - aiogram.event - INFO - Update id=994744200 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 12:51:35,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:51:35,466 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 12:51:35,467 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] (100,)
2025-07-29 12:51:35,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 12:51:35,820 - aiogram.event - INFO - Update id=994744201 is handled. Duration 358 ms by bot id=8464313577
2025-07-29 12:59:18,788 - aiogram.dispatcher - INFO - Start polling
2025-07-29 12:59:19,073 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 12:59:24,141 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 12:59:24,141 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:59:24,142 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 12:59:24,142 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:59:24,142 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 12:59:24,142 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 12:59:24,143 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:59:24,156 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.registration_date AS users_registration_date, users.status AS users_status, users.phone AS users_phone, users.city AS users_city, users.last_interaction_time AS users_last_interaction_time 
FROM users 
WHERE users.id = %s
2025-07-29 12:59:24,156 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (994189833,)
2025-07-29 12:59:24,157 - core.services.user_service - INFO - Creating new user 994189833
2025-07-29 12:59:24,158 - sqlalchemy.engine.Engine - INFO - INSERT INTO users (id, username, registration_date, status, phone, city, last_interaction_time) VALUES (%s, %s, %s, %s, %s, %s, %s)
2025-07-29 12:59:24,158 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (994189833, 'itwistiks', datetime.datetime(2025, 7, 29, 5, 59, 24, 157006), 'no_sub', None, None, datetime.datetime(2025, 7, 29, 5, 59, 24, 157006))
2025-07-29 12:59:24,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:59:24,161 - core.services.user_service - INFO - User 994189833 created successfully
2025-07-29 12:59:24,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:59:24,169 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_progress (user_id, daily_record, weekly_points, total_points, current_streak, last_active_day) VALUES (%s, %s, %s, %s, %s, %s)
2025-07-29 12:59:24,170 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] (994189833, 0, 0, 0, 0, None)
2025-07-29 12:59:24,171 - sqlalchemy.engine.Engine - INFO - INSERT INTO user_stats (user_id, subtopics_stats, correct_answers, total_attempts, percentage) VALUES (%s, %s, %s, %s, %s)
2025-07-29 12:59:24,171 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (994189833, '{}', 0, 0, 0.0)
2025-07-29 12:59:24,172 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:59:24,174 - core.services.user_service - INFO - Initial stats and progress created for user 994189833
2025-07-29 12:59:24,174 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 12:59:24,175 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id, subtopics.topic_id, subtopics.name, subtopics.title_ru 
FROM subtopics
2025-07-29 12:59:24,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ()
2025-07-29 12:59:24,177 - sqlalchemy.engine.Engine - INFO - UPDATE user_stats SET subtopics_stats=%s WHERE user_stats.user_id = %s
2025-07-29 12:59:24,177 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('{"1": {"correct": 0, "wrong": 0}, "2": {"correct": 0, "wrong": 0}, "3": {"correct": 0, "wrong": 0}, "4": {"correct": 0, "wrong": 0}, "5": {"correct": ... (33 characters truncated) ...  0, "wrong": 0}, "7": {"correct": 0, "wrong": 0}, "8": {"correct": 0, "wrong": 0}, "9": {"correct": 0, "wrong": 0}, "10": {"correct": 0, "wrong": 0}}', 994189833)
2025-07-29 12:59:24,178 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 12:59:24,180 - core.services.user_service - INFO - Initialized subtopic stats for user 994189833
2025-07-29 12:59:24,523 - aiogram.event - INFO - Update id=994744202 is handled. Duration 390 ms by bot id=8464313577
2025-07-29 13:01:54,087 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:01:54,380 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:01:55,664 - aiogram.event - INFO - Update id=994744203 is handled. Duration 360 ms by bot id=8464313577
2025-07-29 13:01:56,548 - aiogram.event - INFO - Update id=994744204 is handled. Duration 202 ms by bot id=8464313577
2025-07-29 13:01:57,374 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:01:57,374 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:01:57,374 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:01:57,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:01:57,375 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:01:57,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:01:57,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:01:57,387 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:01:57,387 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-07-29 13:01:57,388 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:01:57,389 - core.services.task_display - INFO - Starting task display for ID: 87
2025-07-29 13:01:57,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:01:57,399 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:01:57,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (87,)
2025-07-29 13:01:57,401 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:01:57,402 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (6,)
2025-07-29 13:01:57,403 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:01:57,404 - sqlalchemy.engine.Engine - INFO - [generated in 0.00097s] (3,)
2025-07-29 13:01:57,405 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:01:57,836 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 87
2025-07-29 13:01:57,836 - aiogram.event - INFO - Update id=994744205 is handled. Duration 468 ms by bot id=8464313577
2025-07-29 13:01:59,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:01:59,665 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:01:59,665 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (87,)
2025-07-29 13:01:59,666 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:01:59,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:01:59,668 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:01:59,668 - sqlalchemy.engine.Engine - INFO - [cached since 0.003388s ago] (87,)
2025-07-29 13:01:59,768 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:01:59,880 - aiogram.event - INFO - Update id=994744206 is handled. Duration 218 ms by bot id=8464313577
2025-07-29 13:02:01,736 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:02:01,736 - core.services.task_display - INFO - Starting task display for ID: 63
2025-07-29 13:02:01,737 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:02:01,738 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:02:01,738 - sqlalchemy.engine.Engine - INFO - [cached since 4.339s ago] (63,)
2025-07-29 13:02:01,739 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:02:01,740 - sqlalchemy.engine.Engine - INFO - [cached since 4.339s ago] (2,)
2025-07-29 13:02:01,741 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:02:01,742 - sqlalchemy.engine.Engine - INFO - [cached since 4.338s ago] (1,)
2025-07-29 13:02:01,742 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:02:01,986 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 63
2025-07-29 13:02:01,986 - aiogram.event - INFO - Update id=994744207 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:02:07,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:02:07,644 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:02:07,644 - sqlalchemy.engine.Engine - INFO - [cached since 7.979s ago] (63,)
2025-07-29 13:02:07,944 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:02:07,945 - aiogram.event - INFO - Update id=994744208 is handled. Duration 296 ms by bot id=8464313577
2025-07-29 13:03:00,994 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:03:01,288 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:03:03,722 - aiogram.event - INFO - Update id=994744209 is handled. Duration 327 ms by bot id=8464313577
2025-07-29 13:03:04,601 - aiogram.event - INFO - Update id=994744210 is handled. Duration 172 ms by bot id=8464313577
2025-07-29 13:03:05,935 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:03:05,935 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:03:05,936 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:03:05,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:03:05,936 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:03:05,936 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:03:05,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:03:05,948 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:03:05,949 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-29 13:03:05,950 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:03:05,951 - core.services.task_display - INFO - Starting task display for ID: 93
2025-07-29 13:03:05,958 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:03:05,961 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:03:05,961 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (93,)
2025-07-29 13:03:05,963 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:03:05,963 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (7,)
2025-07-29 13:03:05,965 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:03:05,965 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (3,)
2025-07-29 13:03:05,966 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:03:06,224 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 93
2025-07-29 13:03:06,224 - aiogram.event - INFO - Update id=994744211 is handled. Duration 297 ms by bot id=8464313577
2025-07-29 13:03:09,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:03:09,617 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:03:09,617 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (93,)
2025-07-29 13:03:09,960 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:03:09,962 - aiogram.event - INFO - Update id=994744212 is handled. Duration 343 ms by bot id=8464313577
2025-07-29 13:05:54,390 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:05:54,660 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:05:57,203 - aiogram.event - INFO - Update id=994744213 is handled. Duration 296 ms by bot id=8464313577
2025-07-29 13:05:58,059 - aiogram.event - INFO - Update id=994744214 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 13:05:58,750 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:05:58,750 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:05:58,750 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:05:58,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:05:58,751 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:05:58,751 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:05:58,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:05:58,763 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:05:58,763 - sqlalchemy.engine.Engine - INFO - [generated in 0.00060s] ()
2025-07-29 13:05:58,764 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:05:58,765 - core.services.task_display - INFO - Starting task display for ID: 68
2025-07-29 13:05:58,773 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:05:58,775 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:05:58,775 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (68,)
2025-07-29 13:05:58,777 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:05:58,778 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (3,)
2025-07-29 13:05:58,779 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:05:58,780 - sqlalchemy.engine.Engine - INFO - [generated in 0.00072s] (1,)
2025-07-29 13:05:58,781 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:05:59,016 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 68
2025-07-29 13:05:59,016 - aiogram.event - INFO - Update id=994744215 is handled. Duration 281 ms by bot id=8464313577
2025-07-29 13:06:06,957 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:06:06,958 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:06:06,959 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (68,)
2025-07-29 13:06:07,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:06:07,174 - aiogram.event - INFO - Update id=994744216 is handled. Duration 217 ms by bot id=8464313577
2025-07-29 13:10:29,288 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:10:29,595 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:10:34,622 - aiogram.event - INFO - Update id=994744217 is handled. Duration 343 ms by bot id=8464313577
2025-07-29 13:10:35,403 - aiogram.event - INFO - Update id=994744218 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 13:10:37,079 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:10:37,079 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:10:37,080 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:10:37,080 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:10:37,080 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:10:37,080 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:10:37,081 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:37,092 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:10:37,092 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-07-29 13:10:37,093 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:37,094 - core.services.task_display - INFO - Starting task display for ID: 100
2025-07-29 13:10:37,102 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:37,105 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:10:37,105 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (100,)
2025-07-29 13:10:37,107 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:10:37,107 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (8,)
2025-07-29 13:10:37,109 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:10:37,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (3,)
2025-07-29 13:10:37,111 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:37,347 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 100
2025-07-29 13:10:37,347 - aiogram.event - INFO - Update id=994744219 is handled. Duration 281 ms by bot id=8464313577
2025-07-29 13:10:39,792 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:39,793 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:10:39,793 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] (100,)
2025-07-29 13:10:39,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:39,796 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:10:39,797 - sqlalchemy.engine.Engine - INFO - [cached since 0.003609s ago] (100,)
2025-07-29 13:10:39,797 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:10:39,798 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:39,967 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:39,969 - aiogram.event - INFO - Update id=994744220 is handled. Duration 186 ms by bot id=8464313577
2025-07-29 13:10:49,550 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:10:49,550 - core.services.task_display - INFO - Starting task display for ID: 65
2025-07-29 13:10:49,551 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:49,551 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:10:49,552 - sqlalchemy.engine.Engine - INFO - [cached since 12.45s ago] (65,)
2025-07-29 13:10:49,553 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:10:49,555 - sqlalchemy.engine.Engine - INFO - [cached since 12.45s ago] (2,)
2025-07-29 13:10:49,555 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:10:49,556 - sqlalchemy.engine.Engine - INFO - [cached since 12.45s ago] (1,)
2025-07-29 13:10:49,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:49,931 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 65
2025-07-29 13:10:49,931 - aiogram.event - INFO - Update id=994744221 is handled. Duration 375 ms by bot id=8464313577
2025-07-29 13:10:58,706 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:58,707 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:10:58,707 - sqlalchemy.engine.Engine - INFO - [cached since 18.91s ago] (65,)
2025-07-29 13:10:58,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:10:58,709 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:10:58,709 - sqlalchemy.engine.Engine - INFO - [cached since 18.92s ago] (65,)
2025-07-29 13:10:58,710 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:10:58,710 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:58,960 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:10:58,961 - aiogram.event - INFO - Update id=994744222 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:13:22,413 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:13:22,693 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:13:24,915 - aiogram.event - INFO - Update id=994744223 is handled. Duration 328 ms by bot id=8464313577
2025-07-29 13:13:25,907 - aiogram.event - INFO - Update id=994744224 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 13:13:27,509 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:13:27,509 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:13:27,509 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:13:27,510 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:13:27,510 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:13:27,510 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:13:27,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:13:27,522 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:13:27,522 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ()
2025-07-29 13:13:27,524 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:13:27,524 - core.services.task_display - INFO - Starting task display for ID: 81
2025-07-29 13:13:27,532 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:13:27,534 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:13:27,535 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] (81,)
2025-07-29 13:13:27,537 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:13:27,537 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (5,)
2025-07-29 13:13:27,539 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:13:27,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (2,)
2025-07-29 13:13:27,540 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:13:27,839 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 81
2025-07-29 13:13:27,839 - aiogram.event - INFO - Update id=994744225 is handled. Duration 327 ms by bot id=8464313577
2025-07-29 13:13:34,650 - aiogram.event - INFO - Update id=994744226 is not handled. Duration 0 ms by bot id=8464313577
2025-07-29 13:13:34,650 - aiogram.event - ERROR - Cause exception while process update id=994744226 by bot id=8464313577
TypeError: handle_text_answer() missing 1 required positional argument: 'callback'
Traceback (most recent call last):
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 297, in _process_update
    response = await self.feed_update(bot, update, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 146, in feed_update
    response = await self.update.wrap_outer_middleware(
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\error.py", line 25, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\middlewares\user_context.py", line 23, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\fsm\middleware.py", line 39, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 123, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\core\middlewares\user_middleware.py", line 17, in __call__
    return await handler(event, data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
           ^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\dispatcher.py", line 264, in _listen_update
    return await self.propagate_event(update_type=update_type, event=event, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 115, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 131, in _propagate_event
    response = await router.propagate_event(update_type=update_type, event=event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 115, in propagate_event
    return await observer.wrap_outer_middleware(_wrapped, event=event, data=kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 111, in _wrapped
    return await self._propagate_event(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\router.py", line 124, in _propagate_event
    response = await observer.trigger(event, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\event\telegram.py", line 123, in trigger
    return await wrapped_inner(event, kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\dispatcher\event\handler.py", line 42, in call
    return await wrapped()
                 ^^^^^^^^^
TypeError: handle_text_answer() missing 1 required positional argument: 'callback'
2025-07-29 13:16:00,813 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:16:01,105 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:16:03,699 - aiogram.event - INFO - Update id=994744227 is handled. Duration 311 ms by bot id=8464313577
2025-07-29 13:16:04,354 - aiogram.event - INFO - Update id=994744228 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 13:16:05,237 - aiogram.event - INFO - Update id=994744229 is handled. Duration 141 ms by bot id=8464313577
2025-07-29 13:16:05,901 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:16:05,901 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:16:05,902 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:16:05,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:16:05,902 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:16:05,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:16:05,903 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:16:05,915 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:16:05,916 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2025-07-29 13:16:05,917 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:16:05,918 - core.services.task_display - INFO - Starting task display for ID: 85
2025-07-29 13:16:05,925 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:16:05,928 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:16:05,929 - sqlalchemy.engine.Engine - INFO - [generated in 0.00057s] (85,)
2025-07-29 13:16:05,931 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:16:05,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (6,)
2025-07-29 13:16:05,933 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:16:05,933 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (3,)
2025-07-29 13:16:05,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:16:06,411 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 85
2025-07-29 13:16:06,411 - aiogram.event - INFO - Update id=994744230 is handled. Duration 516 ms by bot id=8464313577
2025-07-29 13:16:09,661 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:16:09,662 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:16:09,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (85,)
2025-07-29 13:16:09,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:16:09,665 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:16:09,666 - sqlalchemy.engine.Engine - INFO - [cached since 0.004095s ago] (85,)
2025-07-29 13:16:09,667 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:16:09,667 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:16:09,785 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:16:09,786 - aiogram.event - INFO - Update id=994744231 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 13:18:53,577 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:18:53,893 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:18:55,387 - aiogram.event - INFO - Update id=994744232 is handled. Duration 282 ms by bot id=8464313577
2025-07-29 13:18:56,198 - aiogram.event - INFO - Update id=994744233 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 13:18:56,902 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:18:56,902 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:18:56,903 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:18:56,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:18:56,903 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:18:56,903 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:18:56,904 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:18:56,915 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:18:56,916 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-07-29 13:18:56,917 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:18:56,918 - core.services.task_display - INFO - Starting task display for ID: 63
2025-07-29 13:18:56,925 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:18:56,928 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:18:56,928 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (63,)
2025-07-29 13:18:56,931 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:18:56,931 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (2,)
2025-07-29 13:18:56,932 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:18:56,933 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (1,)
2025-07-29 13:18:56,934 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:18:57,150 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 63
2025-07-29 13:18:57,150 - aiogram.event - INFO - Update id=994744234 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:19:01,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:19:01,001 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:19:01,002 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (63,)
2025-07-29 13:19:01,003 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:19:01,004 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:19:01,004 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:19:01,005 - sqlalchemy.engine.Engine - INFO - [cached since 0.003521s ago] (63,)
2025-07-29 13:19:01,098 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:19:01,211 - aiogram.event - INFO - Update id=994744235 is handled. Duration 218 ms by bot id=8464313577
2025-07-29 13:19:02,892 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:19:02,892 - core.services.task_display - INFO - Starting task display for ID: 111
2025-07-29 13:19:02,894 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:19:02,894 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:19:02,895 - sqlalchemy.engine.Engine - INFO - [cached since 5.968s ago] (111,)
2025-07-29 13:19:02,897 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:19:02,897 - sqlalchemy.engine.Engine - INFO - [cached since 5.967s ago] (10,)
2025-07-29 13:19:02,898 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:19:02,898 - sqlalchemy.engine.Engine - INFO - [cached since 5.967s ago] (4,)
2025-07-29 13:19:02,899 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:19:03,109 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 111
2025-07-29 13:19:03,110 - aiogram.event - INFO - Update id=994744236 is handled. Duration 218 ms by bot id=8464313577
2025-07-29 13:19:08,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:19:08,944 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:19:08,945 - sqlalchemy.engine.Engine - INFO - [cached since 7.944s ago] (111,)
2025-07-29 13:19:08,947 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:19:08,948 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:19:08,948 - sqlalchemy.engine.Engine - INFO - [cached since 7.947s ago] (111,)
2025-07-29 13:19:08,949 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:19:08,949 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:19:08,950 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:19:08,950 - core.handlers.reply_handlers - ERROR - Ошибка обработки: 'TempCallback' object has no attribute 'answer'
Traceback (most recent call last):
  File "E:\Projects\Project\TeleBots\physics_bot\core\handlers\reply_handlers.py", line 442, in handle_text_answer
    is_correct = await check_answer(
                 ^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\core\services\answer_checker.py", line 57, in check_answer
    await message.answer(
          ^^^^^^^^^^^^^^
AttributeError: 'TempCallback' object has no attribute 'answer'
2025-07-29 13:19:09,058 - aiogram.event - INFO - Update id=994744237 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 13:21:12,957 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:21:13,250 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:21:15,179 - aiogram.event - INFO - Update id=994744238 is handled. Duration 375 ms by bot id=8464313577
2025-07-29 13:21:16,031 - aiogram.event - INFO - Update id=994744239 is handled. Duration 110 ms by bot id=8464313577
2025-07-29 13:21:16,676 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:21:16,676 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:21:16,677 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:21:16,677 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:21:16,678 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:21:16,678 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:21:16,678 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:21:16,690 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:21:16,690 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ()
2025-07-29 13:21:16,691 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:21:16,692 - core.services.task_display - INFO - Starting task display for ID: 80
2025-07-29 13:21:16,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:21:16,702 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:21:16,702 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (80,)
2025-07-29 13:21:16,705 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:21:16,705 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (5,)
2025-07-29 13:21:16,707 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:21:16,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (2,)
2025-07-29 13:21:16,708 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:21:16,929 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 80
2025-07-29 13:21:16,929 - aiogram.event - INFO - Update id=994744240 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:21:21,717 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:21:21,718 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:21:21,719 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (80,)
2025-07-29 13:21:21,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:21:21,721 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:21:21,722 - sqlalchemy.engine.Engine - INFO - [cached since 0.003693s ago] (80,)
2025-07-29 13:21:21,723 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:21:21,723 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:21:21,817 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:21:21,818 - core.handlers.reply_handlers - ERROR - Ошибка обработки: Telegram server says Bad Request: query is too old and response timeout expired or query ID is invalid
Traceback (most recent call last):
  File "E:\Projects\Project\TeleBots\physics_bot\core\handlers\reply_handlers.py", line 450, in handle_text_answer
    is_correct = await check_answer(
                 ^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\core\services\answer_checker.py", line 57, in check_answer
    await message.answer(
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\methods\base.py", line 89, in emit
    return await bot(self)
           ^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\client\bot.py", line 374, in __call__
    return await self.session(self, method, timeout=request_timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 194, in __call__
    return cast(TelegramType, await middleware(bot, method))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\client\session\aiohttp.py", line 161, in make_request
    response = self.check_response(method=method, status_code=resp.status, content=raw_result)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Projects\Project\TeleBots\physics_bot\venv\Lib\site-packages\aiogram\client\session\base.py", line 111, in check_response
    raise TelegramBadRequest(method=method, message=description)
aiogram.exceptions.TelegramBadRequest: Telegram server says Bad Request: query is too old and response timeout expired or query ID is invalid
2025-07-29 13:21:21,949 - aiogram.event - INFO - Update id=994744241 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:23:11,705 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:23:12,000 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:23:14,230 - aiogram.event - INFO - Update id=994744242 is handled. Duration 390 ms by bot id=8464313577
2025-07-29 13:23:14,911 - aiogram.event - INFO - Update id=994744243 is handled. Duration 172 ms by bot id=8464313577
2025-07-29 13:23:15,710 - aiogram.event - INFO - Update id=994744244 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 13:23:16,374 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:23:16,374 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:23:16,374 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:23:16,374 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:23:16,375 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:23:16,375 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:23:16,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:23:16,386 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:23:16,387 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-07-29 13:23:16,388 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:23:16,389 - core.services.task_display - INFO - Starting task display for ID: 55
2025-07-29 13:23:16,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:23:16,399 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:23:16,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] (55,)
2025-07-29 13:23:16,402 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:23:16,402 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (1,)
2025-07-29 13:23:16,403 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:23:16,404 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (1,)
2025-07-29 13:23:16,405 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:23:16,783 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 55
2025-07-29 13:23:16,783 - aiogram.event - INFO - Update id=994744245 is handled. Duration 422 ms by bot id=8464313577
2025-07-29 13:23:19,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:23:19,476 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:23:19,476 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (55,)
2025-07-29 13:23:19,479 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:23:19,479 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:23:19,479 - sqlalchemy.engine.Engine - INFO - [cached since 0.00385s ago] (55,)
2025-07-29 13:23:19,480 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:23:19,480 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:23:19,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:23:19,610 - aiogram.event - INFO - Update id=994744246 is handled. Duration 141 ms by bot id=8464313577
2025-07-29 13:23:31,300 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:23:31,300 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:23:31,301 - sqlalchemy.engine.Engine - INFO - [cached since 11.83s ago] (55,)
2025-07-29 13:23:31,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:23:31,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:23:31,303 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:23:31,304 - sqlalchemy.engine.Engine - INFO - [cached since 11.83s ago] (55,)
2025-07-29 13:23:31,418 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:23:31,537 - aiogram.event - INFO - Update id=994744247 is handled. Duration 235 ms by bot id=8464313577
2025-07-29 13:26:22,684 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:26:22,965 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:26:25,108 - aiogram.event - INFO - Update id=994744248 is handled. Duration 313 ms by bot id=8464313577
2025-07-29 13:26:26,049 - aiogram.event - INFO - Update id=994744249 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 13:26:26,649 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:26:26,649 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:26:26,650 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:26:26,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:26:26,650 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:26:26,650 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:26:26,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:26:26,662 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:26:26,662 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ()
2025-07-29 13:26:26,663 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:26:26,664 - core.services.task_display - INFO - Starting task display for ID: 96
2025-07-29 13:26:26,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:26:26,674 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:26:26,674 - sqlalchemy.engine.Engine - INFO - [generated in 0.00069s] (96,)
2025-07-29 13:26:26,676 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:26:26,677 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (7,)
2025-07-29 13:26:26,678 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:26:26,679 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (3,)
2025-07-29 13:26:26,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:26:26,949 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 96
2025-07-29 13:26:26,949 - aiogram.event - INFO - Update id=994744250 is handled. Duration 296 ms by bot id=8464313577
2025-07-29 13:26:28,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:26:28,441 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:26:28,442 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] (96,)
2025-07-29 13:26:28,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:26:28,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:26:28,444 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:26:28,445 - sqlalchemy.engine.Engine - INFO - [cached since 0.003668s ago] (96,)
2025-07-29 13:26:28,629 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:26:28,822 - aiogram.event - INFO - Update id=994744251 is handled. Duration 375 ms by bot id=8464313577
2025-07-29 13:26:30,748 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:26:30,748 - core.services.task_display - INFO - Starting task display for ID: 92
2025-07-29 13:26:30,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:26:30,749 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:26:30,750 - sqlalchemy.engine.Engine - INFO - [cached since 4.076s ago] (92,)
2025-07-29 13:26:30,751 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:26:30,752 - sqlalchemy.engine.Engine - INFO - [cached since 4.075s ago] (7,)
2025-07-29 13:26:30,753 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:26:30,753 - sqlalchemy.engine.Engine - INFO - [cached since 4.075s ago] (3,)
2025-07-29 13:26:30,754 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:26:31,101 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 92
2025-07-29 13:26:31,101 - aiogram.event - INFO - Update id=994744252 is handled. Duration 358 ms by bot id=8464313577
2025-07-29 13:26:34,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:26:34,140 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:26:34,141 - sqlalchemy.engine.Engine - INFO - [cached since 5.701s ago] (92,)
2025-07-29 13:26:34,144 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:26:34,410 - aiogram.event - INFO - Update id=994744253 is handled. Duration 281 ms by bot id=8464313577
2025-07-29 13:29:05,669 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:29:05,946 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:29:07,908 - aiogram.event - INFO - Update id=994744254 is handled. Duration 328 ms by bot id=8464313577
2025-07-29 13:29:08,838 - aiogram.event - INFO - Update id=994744255 is handled. Duration 125 ms by bot id=8464313577
2025-07-29 13:29:10,076 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:29:10,077 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:29:10,077 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:29:10,077 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:29:10,078 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:29:10,078 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:29:10,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:10,089 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:29:10,090 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-07-29 13:29:10,091 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:10,091 - core.services.task_display - INFO - Starting task display for ID: 104
2025-07-29 13:29:10,102 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:10,105 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:10,105 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (104,)
2025-07-29 13:29:10,107 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:29:10,108 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (9,)
2025-07-29 13:29:10,109 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:29:10,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] (4,)
2025-07-29 13:29:10,111 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:10,377 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 104
2025-07-29 13:29:10,377 - aiogram.event - INFO - Update id=994744256 is handled. Duration 313 ms by bot id=8464313577
2025-07-29 13:29:16,033 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:16,035 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:16,035 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (104,)
2025-07-29 13:29:16,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:29:16,203 - aiogram.event - INFO - Update id=994744257 is handled. Duration 171 ms by bot id=8464313577
2025-07-29 13:29:37,324 - aiogram.event - INFO - Update id=994744258 is handled. Duration 311 ms by bot id=8464313577
2025-07-29 13:29:50,769 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:29:51,067 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:29:51,495 - aiogram.event - INFO - Update id=994744259 is handled. Duration 327 ms by bot id=8464313577
2025-07-29 13:29:51,701 - aiogram.event - INFO - Update id=994744260 is handled. Duration 311 ms by bot id=8464313577
2025-07-29 13:29:52,650 - aiogram.event - INFO - Update id=994744261 is handled. Duration 140 ms by bot id=8464313577
2025-07-29 13:29:53,504 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:29:53,504 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:29:53,504 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:29:53,504 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:29:53,505 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:29:53,505 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:29:53,506 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:53,517 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:29:53,517 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ()
2025-07-29 13:29:53,518 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:53,519 - core.services.task_display - INFO - Starting task display for ID: 58
2025-07-29 13:29:53,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:53,530 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:53,530 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] (58,)
2025-07-29 13:29:53,533 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:29:53,533 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (1,)
2025-07-29 13:29:53,535 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:29:53,535 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (1,)
2025-07-29 13:29:53,536 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:54,007 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 58
2025-07-29 13:29:54,007 - aiogram.event - INFO - Update id=994744262 is handled. Duration 500 ms by bot id=8464313577
2025-07-29 13:29:54,601 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:29:54,601 - core.services.task_display - INFO - Starting task display for ID: 88
2025-07-29 13:29:54,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:54,602 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:54,603 - sqlalchemy.engine.Engine - INFO - [cached since 1.073s ago] (88,)
2025-07-29 13:29:54,604 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:29:54,605 - sqlalchemy.engine.Engine - INFO - [cached since 1.072s ago] (6,)
2025-07-29 13:29:54,606 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:29:54,606 - sqlalchemy.engine.Engine - INFO - [cached since 1.072s ago] (3,)
2025-07-29 13:29:54,607 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:54,869 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 88
2025-07-29 13:29:54,869 - aiogram.event - INFO - Update id=994744263 is handled. Duration 266 ms by bot id=8464313577
2025-07-29 13:29:55,340 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:29:55,340 - core.services.task_display - INFO - Starting task display for ID: 63
2025-07-29 13:29:55,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:55,341 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:55,342 - sqlalchemy.engine.Engine - INFO - [cached since 1.813s ago] (63,)
2025-07-29 13:29:55,344 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:29:55,344 - sqlalchemy.engine.Engine - INFO - [cached since 1.812s ago] (2,)
2025-07-29 13:29:55,345 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:29:55,346 - sqlalchemy.engine.Engine - INFO - [cached since 1.811s ago] (1,)
2025-07-29 13:29:55,346 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:55,587 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 63
2025-07-29 13:29:55,588 - aiogram.event - INFO - Update id=994744264 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:29:56,171 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:29:56,171 - core.services.task_display - INFO - Starting task display for ID: 102
2025-07-29 13:29:56,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:56,173 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:56,174 - sqlalchemy.engine.Engine - INFO - [cached since 2.644s ago] (102,)
2025-07-29 13:29:56,175 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:29:56,176 - sqlalchemy.engine.Engine - INFO - [cached since 2.643s ago] (9,)
2025-07-29 13:29:56,177 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:29:56,177 - sqlalchemy.engine.Engine - INFO - [cached since 2.643s ago] (4,)
2025-07-29 13:29:56,179 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:56,422 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 102
2025-07-29 13:29:56,422 - aiogram.event - INFO - Update id=994744265 is handled. Duration 264 ms by bot id=8464313577
2025-07-29 13:29:56,774 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:29:56,774 - core.services.task_display - INFO - Starting task display for ID: 80
2025-07-29 13:29:56,774 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:29:56,775 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:29:56,775 - sqlalchemy.engine.Engine - INFO - [cached since 3.246s ago] (80,)
2025-07-29 13:29:56,777 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:29:56,777 - sqlalchemy.engine.Engine - INFO - [cached since 3.245s ago] (5,)
2025-07-29 13:29:56,778 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:29:56,778 - sqlalchemy.engine.Engine - INFO - [cached since 3.245s ago] (2,)
2025-07-29 13:29:56,779 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:29:57,081 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 80
2025-07-29 13:29:57,081 - aiogram.event - INFO - Update id=994744266 is handled. Duration 312 ms by bot id=8464313577
2025-07-29 13:30:03,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:30:03,822 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:30:03,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (80,)
2025-07-29 13:30:03,823 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:30:04,008 - aiogram.event - INFO - Update id=994744267 is handled. Duration 188 ms by bot id=8464313577
2025-07-29 13:32:06,474 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:32:06,736 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:32:08,175 - aiogram.event - INFO - Update id=994744268 is handled. Duration 375 ms by bot id=8464313577
2025-07-29 13:32:09,086 - aiogram.event - INFO - Update id=994744269 is handled. Duration 141 ms by bot id=8464313577
2025-07-29 13:32:09,873 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:32:09,873 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:32:09,873 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:32:09,874 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:32:09,874 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:32:09,874 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:32:09,875 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:32:09,886 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:32:09,886 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ()
2025-07-29 13:32:09,887 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:32:09,888 - core.services.task_display - INFO - Starting task display for ID: 91
2025-07-29 13:32:09,896 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:32:09,899 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:32:09,899 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (91,)
2025-07-29 13:32:09,901 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:32:09,902 - sqlalchemy.engine.Engine - INFO - [generated in 0.00041s] (7,)
2025-07-29 13:32:09,903 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:32:09,904 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (3,)
2025-07-29 13:32:09,904 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:32:10,276 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 91
2025-07-29 13:32:10,277 - aiogram.event - INFO - Update id=994744270 is handled. Duration 406 ms by bot id=8464313577
2025-07-29 13:32:14,321 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:32:14,323 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:32:14,323 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (91,)
2025-07-29 13:32:14,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:32:14,551 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:32:14,551 - sqlalchemy.engine.Engine - INFO - [cached since 0.2298s ago] (91,)
2025-07-29 13:32:14,553 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:32:14,553 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:32:14,665 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:32:14,666 - aiogram.event - INFO - Update id=994744271 is handled. Duration 344 ms by bot id=8464313577
2025-07-29 13:33:27,779 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:33:28,042 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:35:50,580 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:35:50,580 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:35:50,581 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:35:50,581 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:35:50,582 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:35:50,582 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:35:50,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:35:50,585 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id, tasks.type_number, tasks.topic_id, tasks.subtopic_id, tasks.part_number, tasks.complexity, tasks.task_content, tasks.correct_answer, tasks.answer_options, tasks.theory_id, tasks.video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:35:50,585 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (91,)
2025-07-29 13:35:50,587 - sqlalchemy.engine.Engine - INFO - SELECT theories.id AS theories_id, theories.topic_id AS theories_topic_id, theories.subtopic_id AS theories_subtopic_id, theories.complexity AS theories_complexity, theories.content AS theories_content, theories.examples AS theories_examples 
FROM theories 
WHERE theories.id IN (%s)
2025-07-29 13:35:50,587 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (91,)
2025-07-29 13:35:50,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:35:50,971 - aiogram.event - INFO - Update id=994744272 is handled. Duration 406 ms by bot id=8464313577
2025-07-29 13:36:16,187 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:36:16,454 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:36:29,400 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:36:29,400 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:36:29,401 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:36:29,401 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:36:29,401 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:36:29,402 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:36:29,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:29,415 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.registration_date AS users_registration_date, users.status AS users_status, users.phone AS users_phone, users.city AS users_city, users.last_interaction_time AS users_last_interaction_time 
FROM users 
WHERE users.id = %s
2025-07-29 13:36:29,415 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] (994189833,)
2025-07-29 13:36:29,416 - core.services.user_service - INFO - Updating existing user 994189833
2025-07-29 13:36:29,417 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_interaction_time=%s WHERE users.id = %s
2025-07-29 13:36:29,418 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (datetime.datetime(2025, 7, 29, 6, 36, 29, 416731), 994189833)
2025-07-29 13:36:29,419 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:29,782 - aiogram.event - INFO - Update id=994744273 is handled. Duration 391 ms by bot id=8464313577
2025-07-29 13:36:32,889 - aiogram.event - INFO - Update id=994744274 is handled. Duration 204 ms by bot id=8464313577
2025-07-29 13:36:34,493 - aiogram.event - INFO - Update id=994744275 is handled. Duration 218 ms by bot id=8464313577
2025-07-29 13:36:35,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:35,753 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:36:35,753 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ()
2025-07-29 13:36:35,755 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:35,755 - core.services.task_display - INFO - Starting task display for ID: 60
2025-07-29 13:36:35,756 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:35,758 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:35,759 - sqlalchemy.engine.Engine - INFO - [generated in 0.00073s] (60,)
2025-07-29 13:36:35,761 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:36:35,762 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] (2,)
2025-07-29 13:36:35,763 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:36:35,763 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (1,)
2025-07-29 13:36:35,764 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:36,021 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 60
2025-07-29 13:36:36,021 - aiogram.event - INFO - Update id=994744276 is handled. Duration 281 ms by bot id=8464313577
2025-07-29 13:36:40,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:40,164 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:40,164 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (60,)
2025-07-29 13:36:40,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:40,286 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:40,287 - sqlalchemy.engine.Engine - INFO - [cached since 0.1225s ago] (60,)
2025-07-29 13:36:40,288 - core.services.answer_checker - ERROR - Callback error: 'NoneType' object has no attribute 'answer'
2025-07-29 13:36:40,288 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:40,422 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:40,423 - aiogram.event - INFO - Update id=994744277 is handled. Duration 264 ms by bot id=8464313577
2025-07-29 13:36:47,413 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:47,413 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:47,414 - sqlalchemy.engine.Engine - INFO - [cached since 7.25s ago] (60,)
2025-07-29 13:36:47,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:47,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:47,416 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:47,417 - sqlalchemy.engine.Engine - INFO - [cached since 7.252s ago] (60,)
2025-07-29 13:36:47,524 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:47,651 - aiogram.event - INFO - Update id=994744278 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:50,583 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:50,584 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:50,584 - sqlalchemy.engine.Engine - INFO - [cached since 10.42s ago] (60,)
2025-07-29 13:36:50,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:50,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:50,586 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:50,587 - sqlalchemy.engine.Engine - INFO - [cached since 10.42s ago] (60,)
2025-07-29 13:36:50,691 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:50,813 - aiogram.event - INFO - Update id=994744279 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:52,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:52,116 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:52,116 - sqlalchemy.engine.Engine - INFO - [cached since 11.95s ago] (60,)
2025-07-29 13:36:52,117 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:52,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:52,119 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:52,119 - sqlalchemy.engine.Engine - INFO - [cached since 11.96s ago] (60,)
2025-07-29 13:36:52,225 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:52,348 - aiogram.event - INFO - Update id=994744280 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:52,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:52,828 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:52,829 - sqlalchemy.engine.Engine - INFO - [cached since 12.66s ago] (60,)
2025-07-29 13:36:52,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:52,831 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:52,831 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:52,832 - sqlalchemy.engine.Engine - INFO - [cached since 12.67s ago] (60,)
2025-07-29 13:36:52,945 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:53,070 - aiogram.event - INFO - Update id=994744281 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:36:53,399 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:53,400 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:53,400 - sqlalchemy.engine.Engine - INFO - [cached since 13.24s ago] (60,)
2025-07-29 13:36:53,401 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:53,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:53,402 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:53,403 - sqlalchemy.engine.Engine - INFO - [cached since 13.24s ago] (60,)
2025-07-29 13:36:53,514 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:53,638 - aiogram.event - INFO - Update id=994744282 is handled. Duration 234 ms by bot id=8464313577
2025-07-29 13:36:56,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:56,878 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:56,879 - sqlalchemy.engine.Engine - INFO - [cached since 16.71s ago] (60,)
2025-07-29 13:36:56,880 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:56,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:56,881 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:56,882 - sqlalchemy.engine.Engine - INFO - [cached since 16.72s ago] (60,)
2025-07-29 13:36:56,988 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:57,110 - aiogram.event - INFO - Update id=994744283 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:57,259 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:57,260 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:57,261 - sqlalchemy.engine.Engine - INFO - [cached since 17.1s ago] (60,)
2025-07-29 13:36:57,262 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:57,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:57,263 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:57,263 - sqlalchemy.engine.Engine - INFO - [cached since 17.1s ago] (60,)
2025-07-29 13:36:57,371 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:57,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:57,460 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:57,460 - sqlalchemy.engine.Engine - INFO - [cached since 17.3s ago] (60,)
2025-07-29 13:36:57,461 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:57,462 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:57,462 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:57,463 - sqlalchemy.engine.Engine - INFO - [cached since 17.3s ago] (60,)
2025-07-29 13:36:57,490 - aiogram.event - INFO - Update id=994744284 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:57,760 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:57,886 - aiogram.event - INFO - Update id=994744285 is handled. Duration 422 ms by bot id=8464313577
2025-07-29 13:36:58,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,039 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,039 - sqlalchemy.engine.Engine - INFO - [cached since 17.87s ago] (60,)
2025-07-29 13:36:58,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:58,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,041 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,042 - sqlalchemy.engine.Engine - INFO - [cached since 17.88s ago] (60,)
2025-07-29 13:36:58,145 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:58,265 - aiogram.event - INFO - Update id=994744286 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:58,446 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,446 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,447 - sqlalchemy.engine.Engine - INFO - [cached since 18.28s ago] (60,)
2025-07-29 13:36:58,448 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:58,449 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,449 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,450 - sqlalchemy.engine.Engine - INFO - [cached since 18.29s ago] (60,)
2025-07-29 13:36:58,552 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:58,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,621 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,621 - sqlalchemy.engine.Engine - INFO - [cached since 18.46s ago] (60,)
2025-07-29 13:36:58,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:58,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,623 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,624 - sqlalchemy.engine.Engine - INFO - [cached since 18.46s ago] (60,)
2025-07-29 13:36:58,671 - aiogram.event - INFO - Update id=994744287 is handled. Duration 233 ms by bot id=8464313577
2025-07-29 13:36:58,729 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:58,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,835 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,836 - sqlalchemy.engine.Engine - INFO - [cached since 18.67s ago] (60,)
2025-07-29 13:36:58,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:58,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:58,838 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:58,838 - sqlalchemy.engine.Engine - INFO - [cached since 18.67s ago] (60,)
2025-07-29 13:36:58,862 - aiogram.event - INFO - Update id=994744288 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:36:58,958 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:59,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:59,007 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:59,007 - sqlalchemy.engine.Engine - INFO - [cached since 18.84s ago] (60,)
2025-07-29 13:36:59,009 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:36:59,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:36:59,010 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:36:59,010 - sqlalchemy.engine.Engine - INFO - [cached since 18.85s ago] (60,)
2025-07-29 13:36:59,106 - aiogram.event - INFO - Update id=994744289 is handled. Duration 265 ms by bot id=8464313577
2025-07-29 13:36:59,147 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:36:59,272 - aiogram.event - INFO - Update id=994744290 is handled. Duration 265 ms by bot id=8464313577
2025-07-29 13:39:27,913 - aiogram.dispatcher - INFO - Start polling
2025-07-29 13:39:28,210 - aiogram.dispatcher - INFO - Run polling for bot @OGE_t_physicsBot id=8464313577 - 'PhysicsBot'
2025-07-29 13:39:37,729 - sqlalchemy.engine.Engine - INFO - SELECT DATABASE()
2025-07-29 13:39:37,729 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:39:37,730 - sqlalchemy.engine.Engine - INFO - SELECT @@sql_mode
2025-07-29 13:39:37,730 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:39:37,731 - sqlalchemy.engine.Engine - INFO - SELECT @@lower_case_table_names
2025-07-29 13:39:37,731 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-07-29 13:39:37,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:37,744 - sqlalchemy.engine.Engine - INFO - SELECT users.id AS users_id, users.username AS users_username, users.registration_date AS users_registration_date, users.status AS users_status, users.phone AS users_phone, users.city AS users_city, users.last_interaction_time AS users_last_interaction_time 
FROM users 
WHERE users.id = %s
2025-07-29 13:39:37,744 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (994189833,)
2025-07-29 13:39:37,746 - core.services.user_service - INFO - Updating existing user 994189833
2025-07-29 13:39:37,747 - sqlalchemy.engine.Engine - INFO - UPDATE users SET last_interaction_time=%s WHERE users.id = %s
2025-07-29 13:39:37,747 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] (datetime.datetime(2025, 7, 29, 6, 39, 37, 746660), 994189833)
2025-07-29 13:39:37,748 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:38,064 - aiogram.event - INFO - Update id=994744291 is handled. Duration 343 ms by bot id=8464313577
2025-07-29 13:39:45,981 - aiogram.event - INFO - Update id=994744292 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 13:39:46,993 - aiogram.event - INFO - Update id=994744293 is handled. Duration 108 ms by bot id=8464313577
2025-07-29 13:39:48,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:48,399 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id 
FROM tasks
2025-07-29 13:39:48,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ()
2025-07-29 13:39:48,401 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:48,402 - core.services.task_display - INFO - Starting task display for ID: 99
2025-07-29 13:39:48,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:48,404 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:39:48,405 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] (99,)
2025-07-29 13:39:48,407 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:39:48,407 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (8,)
2025-07-29 13:39:48,409 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:39:48,409 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (3,)
2025-07-29 13:39:48,410 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:48,652 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 99
2025-07-29 13:39:48,652 - aiogram.event - INFO - Update id=994744294 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:39:50,535 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:50,536 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:39:50,536 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (99,)
2025-07-29 13:39:50,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2025-07-29 13:39:50,538 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:50,539 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:39:50,540 - sqlalchemy.engine.Engine - INFO - [cached since 0.003728s ago] (99,)
2025-07-29 13:39:50,656 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:50,795 - aiogram.event - INFO - Update id=994744295 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:39:53,913 - core.handlers.reply_handlers - ERROR - Error deleting message: 'Message' object has no attribute 'bot'
2025-07-29 13:39:53,913 - core.services.task_display - INFO - Starting task display for ID: 89
2025-07-29 13:39:53,914 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:53,915 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:39:53,915 - sqlalchemy.engine.Engine - INFO - [cached since 5.511s ago] (89,)
2025-07-29 13:39:53,918 - sqlalchemy.engine.Engine - INFO - SELECT subtopics.id AS subtopics_id, subtopics.topic_id AS subtopics_topic_id, subtopics.name AS subtopics_name, subtopics.title_ru AS subtopics_title_ru 
FROM subtopics 
WHERE subtopics.id IN (%s)
2025-07-29 13:39:53,918 - sqlalchemy.engine.Engine - INFO - [cached since 5.512s ago] (6,)
2025-07-29 13:39:53,919 - sqlalchemy.engine.Engine - INFO - SELECT topics.id AS topics_id, topics.name AS topics_name, topics.title_ru AS topics_title_ru 
FROM topics 
WHERE topics.id IN (%s)
2025-07-29 13:39:53,919 - sqlalchemy.engine.Engine - INFO - [cached since 5.511s ago] (3,)
2025-07-29 13:39:53,920 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:54,155 - core.services.task_display - INFO - Установлено состояние WAITING_ANSWER для задания 89
2025-07-29 13:39:54,156 - aiogram.event - INFO - Update id=994744296 is handled. Duration 250 ms by bot id=8464313577
2025-07-29 13:39:56,549 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:56,550 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:39:56,550 - sqlalchemy.engine.Engine - INFO - [cached since 6.015s ago] (89,)
2025-07-29 13:39:56,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-07-29 13:39:56,669 - sqlalchemy.engine.Engine - INFO - SELECT tasks.id AS tasks_id, tasks.type_number AS tasks_type_number, tasks.topic_id AS tasks_topic_id, tasks.subtopic_id AS tasks_subtopic_id, tasks.part_number AS tasks_part_number, tasks.complexity AS tasks_complexity, tasks.task_content AS tasks_task_content, tasks.correct_answer AS tasks_correct_answer, tasks.answer_options AS tasks_answer_options, tasks.theory_id AS tasks_theory_id, tasks.video_analysis_url AS tasks_video_analysis_url 
FROM tasks 
WHERE tasks.id = %s
2025-07-29 13:39:56,670 - sqlalchemy.engine.Engine - INFO - [cached since 6.134s ago] (89,)
2025-07-29 13:39:56,803 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:56,924 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-07-29 13:39:56,925 - aiogram.event - INFO - Update id=994744297 is handled. Duration 375 ms by bot id=8464313577
